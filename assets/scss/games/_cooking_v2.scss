// assets/scss/games/_cooking_v2.scss

.cooking-page-v2 {
    height: 100vh; width: 100vw; overflow: hidden; position: relative;
    background: url('../images/kitchen_bg.jpg') no-repeat center center;
    background-size: cover;
    font-family: 'Itim', 'Quicksand', cursive, sans-serif;
    transition: background 0.3s ease; 

    &.oven-on { background-image: url('../images/kitchen_bg_oven_on.jpg'); }

    @media (orientation: portrait) {
        &::before {
            content: "¬°Gir√° tu celular para jugar! üîÑ"; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #222; color: white; z-index: 9999; display: flex; justify-content: center; align-items: center; font-size: 1.5rem; text-align: center;
        }
    }

    .glow-active { box-shadow: 0 0 30px 15px rgba(255, 255, 255, 0.9); background: rgba(255, 255, 255, 0.25); border-radius: 20px; transition: all 0.2s ease; }
    .station { position: absolute; display: flex; justify-content: center; align-items: center; z-index: 10; }

    /* --- UI: HUD SUPERIOR --- */
    #fullscreen-btn, #recipe-btn, #reset-btn { 
        position: absolute; top: 10px; z-index: 200; border: 2px solid #000; border-radius: 5px; padding: 5px 10px; cursor: pointer; font-weight: bold; box-shadow: 2px 2px 0 #000; transition: all 0.1s;
        &:active { transform:translate(2px, 2px); box-shadow: 0 0 0 #000; }
    }
    #fullscreen-btn { left: 10px; background: rgba(255,255,255,0.8); }
    #recipe-btn { left: 130px; background: #ffd166; }
    #reset-btn { left: 220px; background: #ef476f; color: white; }

    .hud-bar {
        position: absolute; top: 10px; right: 20px; z-index: 200; display: flex; gap: 10px; flex-wrap: wrap; justify-content: flex-end; max-width: 60%;
        .hud-box {
            background: white; border: 3px solid #000; border-radius: 10px; padding: 5px 10px; font-size: 1.1rem; font-weight: bold; box-shadow: 2px 2px 0 #000;
            span { color: #e63946; }
            &.stars-box { color: #ffd166; text-shadow: 1px 1px 0 #000; letter-spacing: 2px; }
            &.strikes-box span { color: #000; }
        }
    }

    /* --- MEN√ö PRINCIPAL --- */
    .main-menu-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2000;
        background: url('../images/menu_bg.jpg') no-repeat bottom center;
        background-size: cover;
        display: flex; flex-direction: column; justify-content: center; align-items: center; gap: 15px;
        overflow-y: auto; padding: 20px 0; 
        
        .title-logo { max-width: 60%; height: auto; margin-bottom: 5px; filter: drop-shadow(0 5px 0 #1a3c5e); }

        .menu-btn {
            background: linear-gradient(180deg, #ffffff 0%, #f0f0f0 100%); 
            border: 5px solid #1a3c5e; border-radius: 40px;
            padding: 12px 45px; font-size: 1.8rem; font-weight: 900; color: #1a3c5e; 
            cursor: pointer; text-transform: uppercase;
            text-shadow: 2px 2px 0 #ffffff, -2px -2px 0 #ffffff, 2px -2px 0 #ffffff, -2px 2px 0 #ffffff; 
            box-shadow: 0 8px 0 #112a45, 0 10px 15px rgba(0,0,0,0.4); 
            transition: all 0.15s ease;
            
            &:hover { filter: brightness(1.05); transform: translateY(-2px); box-shadow: 0 10px 0 #112a45, 0 12px 18px rgba(0,0,0,0.3); }
            &:active { transform: translateY(8px); box-shadow: 0 0 0 #112a45, 0 2px 5px rgba(0,0,0,0.4); filter: brightness(0.95); }
        }

        /* CAMBIO: Bot√≥n Fullscreen m√°s peque√±o y estilizado */
        .fullscreen-menu-btn {
            background: #4cc9f0; border: 2px solid #000; border-radius: 12px; 
            padding: 5px 15px; font-size: 0.9rem; font-weight: bold; color: #000;
            cursor: pointer; margin-bottom: 2px; box-shadow: 2px 2px 0 #000;
            transition: all 0.1s;
            &:active { transform: translate(1px, 1px); box-shadow: 0 0 0 #000; }
        }
    }

    /* --- PANTALLAS MODALES --- */
    .modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 2500; display: none; justify-content: center; align-items: center;
        .modal-content {
            background: #fefae0; border: 5px solid #bc6c25; border-radius: 20px; width: 80%; max-width: 800px; max-height: 85%; padding: 20px; overflow-y: auto; position: relative;
            h2 { text-align: center; color: #9e2a2b; font-size: 2.5rem; margin-top: 0; border-bottom: 3px dashed #bc6c25; padding-bottom: 10px; }
            .close-btn { 
                position: absolute; top: 10px; right: 15px; background: #e63946; color: white; border: 3px solid #000; border-radius: 50%; width: 45px; height: 45px; cursor: pointer; font-size: 1.5rem; font-weight: bold; transition: all 0.1s;
                &:active { transform: scale(0.9); }
            }
            .admin-btn { position: absolute; top: 15px; left: 15px; opacity: 0.3; font-size: 1.8rem; cursor: pointer; z-index: 10; }
        }
    }

    .store-grid {
        display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 20px;
        .store-section {
            background: rgba(255,255,255,0.5); padding: 15px; border-radius: 15px; border: 2px solid #bc6c25;
            h3 { text-align: center; color: #540b0e; }
            .store-item {
                background: white; border: 2px dashed #e63946; padding: 15px; margin-bottom: 10px; border-radius: 10px; text-align: center; font-weight: bold;
                button { 
                    margin-top: 10px; background: #06d6a0; border: 2px solid #000; padding: 5px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; transition: all 0.1s;
                    &:active:not(:disabled) { transform: translateY(2px); }
                }
                button:disabled { background: #ccc; cursor: not-allowed; opacity: 0.8; }
                .action-btn { background: #4cc9f0; margin-left: 5px; } 
            }
            .coupon-item { border: 3px dashed #ffd166; background: #fffcf2; }
        }
    }

    .achievements-list {
        list-style: none; padding: 0; display: flex; flex-direction: column; gap: 10px;
        li { background: #eee; border: 2px solid #ccc; padding: 15px; border-radius: 10px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; }
        li.unlocked { background: #d4edda; border-color: #28a745; color: #155724; box-shadow: inset 0 0 10px #28a74555; }
    }
    #game-over-overlay .modal-content { text-align: center; background: #e63946; color: white; border-color: #fff; h2 { color: white; border-bottom-color: white; } }

    /* --- ELEMENTOS DE JUEGO F√çSICO --- */
    .window-view { 
        top: 5%; left: 16%; width: 55%; height: 42%; position: absolute;
        .woodstock-speech-bubble {
            position: absolute; 
            bottom: 16%; 
            right: 1%; 
            background: white; border: 3px solid #000; border-radius: 15px; padding: 10px 15px; font-weight: bold; font-size: 0.95rem; z-index: 20; max-width: 200px; text-align: center;
            &::after { content: ''; position: absolute; bottom: -15px; right: 25px; border-width: 15px 15px 0 0; border-style: solid; border-color: #000 transparent transparent transparent; }
            &::before { content: ''; position: absolute; bottom: -10px; right: 27px; border-width: 11px 11px 0 0; border-style: solid; border-color: white transparent transparent transparent; z-index: 1; }
        }
    }
    
    .radio-toggle { top: 36%; left: 13%; width: 10%; height: 12%; cursor: pointer; z-index: 30; }
    .grill { top: 48%; left: 2%; width: 32%; height: 26%; flex-wrap: wrap; gap: 12px; }
    .trash { top: 81%; left: 11%; width: 12%; height: 18%; cursor: pointer; z-index: 15; }
    .cut-station { top: 52%; left: 34%; width: 22%; height: 16%; gap: 15px; }

    /* --- PLATO Y COMIDA --- */
    .plate { 
        top: 50.5%; left: 56.5%; width: 19%; height: 16%; 
        #burger-instance { 
            width: 160px; height: 130px; 
            background-size: contain; background-repeat: no-repeat; background-position: center bottom; 
            display: flex; flex-direction: column-reverse; align-items: center; 
            cursor: grab; transition: transform 0.2s ease;
            transform: translateX(-12px); 

            &.is-burger { margin-top: 10px; } 
            &.is-pizza { margin-top: 18px; } 
        }
    }

    .oven-zone { top: 38%; left: 74%; width: 24%; height: 26%; .baking-pizza-wrap { position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; justify-content: center; align-items: flex-end; padding-bottom: 25px; .progress-container { position: relative; bottom: 0; width: 70%; z-index: 30; } } }
    .pizza-stack { top: 76%; left: 58%; width: 17%; height: 22%; cursor: grab; }

    .cutlery-drawer {
        top: 76%; left: 30%; width: 25%; height: 18%; display: flex; gap: 35px; padding: 10px; justify-content: center; align-items: center;
        .tool {
            width: 65px; height: 65px; cursor: pointer; background-color: rgba(255, 255, 255, 0.45); border: 2px solid #5a3a22; border-radius: 10px; box-shadow: inset 0 0 8px rgba(0,0,0,0.3); transition: all 0.2s; background-size: contain; background-repeat: no-repeat; background-position: center;
            &.active { border-color: #ffd166; background-color: rgba(255, 209, 102, 0.5); transform: scale(1.1); box-shadow: 0 0 10px rgba(255, 209, 102, 0.8); }
            &#tool-knife { background-image: url('../images/icon_knife.png'); } &#tool-spatula { background-image: url('../images/icon_spatula.png'); } &#tool-peel { background-image: url('../images/icon_peel.png'); } 
        }
    }

    .pantry-dry { top: 2%; left: 74%; width: 22%; height: 25%; cursor: pointer; }
    .fridge { top: 73%; left: 80%; width: 18%; height: 25%; cursor: pointer; }

    @keyframes sizzle-shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 25% { transform: translate(-1px, -1px) rotate(-1deg); } 50% { transform: translate(1px, 1px) rotate(1deg); } 75% { transform: translate(1px, -1px) rotate(0deg); } 100% { transform: translate(1px, 1px) rotate(-1deg); } }

    .ingredient-wrapper {
        position: relative; display: flex; flex-direction: column; align-items: center; cursor: grab; width: max-content;
        &.cutting { filter: brightness(1.1); transform: scale(1.05); } &.sizzling img { animation: sizzle-shake 0.15s infinite; }
        .progress-container { position: absolute; bottom: -10px; width: 90%; height: 8px; background: #333; border: 1px solid #000; border-radius: 4px; overflow: hidden; pointer-events: none; z-index: 20; .progress-fill { height: 100%; width: 0%; background: #06d6a0; } &.meat-bar .progress-fill { background: #ef476f; transition: width 0.1s linear; } &.oven-bar .progress-fill { background: #ffd166; transition: width 0.1s linear; } }
        .ingredient { pointer-events: none; }
    }

    .ingredient {
        cursor: grab; object-fit: contain; position: relative;
        &[data-type="meat"] { width: 110px; height: 90px; } &[data-type="whole-bread"] { width: 120px; height: 90px; } &[data-type="whole-tomato"] { width: 90px; height: 90px; } &[data-type="whole-cheese"] { width: 130px; height: 90px; } &[data-type="whole-lettuce"] { width: 110px; height: 100px; } &[data-type="tomato-sauce-bottle"] { width: 60px; height: 110px; } &[data-type="pizza-dough"] { width: 140px; height: 50px; } &[data-type="bread-bottom"], &[data-type="bread-top"] { width: 135px; height: 60px; } &[data-type="tomato-slices"], &[data-type="cheese-slices"], &[data-type="lettuce-slices"] { width: 125px; }
    }

    #warning-msg { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: #e63946; color: white; padding: 15px 30px; border: 4px solid #000; border-radius: 15px; font-weight: bold; z-index: 500; display: none; }
    
    .inventory-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); z-index: 300; display: none; justify-content: center; align-items: center; &.is-dragging { pointer-events: none; opacity: 0; } .inventory-menu { background: #fefae0; border: 4px solid #bc6c25; border-radius: 20px; padding: 25px; display: flex; gap: 25px; position: relative; .close-btn { position: absolute; top: -15px; right: -15px; background: #e63946; color: white; border: 3px solid #000; border-radius: 50%; width: 35px; height: 35px; cursor: pointer; font-weight: bold; } } }

    /* FIX M√ìVIL RESPONSIVE */
    @media (max-width: 950px) and (max-height: 500px) and (orientation: landscape) {
        .main-menu-overlay { 
            gap: 12px; 
            .title-logo { max-width: 50%; margin-bottom: 5px; }
            .menu-btn { padding: 8px 30px; font-size: 1.2rem; border-width: 4px; } 
        }

        .hud-bar { top: 5px; right: 5px; gap: 5px; .hud-box { padding: 3px 8px; font-size: 0.9rem; } }
        #fullscreen-btn, #recipe-btn, #reset-btn { font-size: 0.8rem; padding: 3px 8px; }
        #recipe-btn { left: 95px; } #reset-btn { left: 165px; }
        
        .ingredient { &[data-type="meat"] { width: 75px; height: 60px; } &[data-type="whole-bread"] { width: 85px; height: 65px; } &[data-type="whole-tomato"] { width: 65px; height: 65px; } &[data-type="whole-cheese"] { width: 90px; height: 65px; } &[data-type="whole-lettuce"] { width: 80px; height: 75px; } &[data-type="tomato-sauce-bottle"] { width: 40px; height: 80px; } &[data-type="pizza-dough"] { width: 100px; height: 35px; } &[data-type="bread-bottom"], &[data-type="bread-top"] { width: 95px; height: 45px; } &[data-type="tomato-slices"], &[data-type="cheese-slices"], &[data-type="lettuce-slices"] { width: 90px; } }
        
        .plate #burger-instance { width: 95px; height: 80px; transform: translateX(-10px); &.is-burger { margin-top: 5px; } &.is-pizza { margin-top: 8px; } img { width: 90px !important; } }
        .cutlery-drawer { gap: 15px; .tool { width: 50px; height: 50px; } }
        .inventory-overlay { align-items: flex-start; padding-top: 2%; .inventory-menu { padding: 10px; gap: 15px; .ingredient { max-width: 60px; max-height: 60px; } } }
        
        .window-view .woodstock-speech-bubble { 
            font-size: 0.8rem; padding: 6px 10px; 
            bottom: 22%; 
            right: 4%;  
            max-width: 160px; 
        }
        
        .modal-overlay .modal-content { width: 95%; padding: 10px; h2 { font-size: 1.5rem; } }
    }
}