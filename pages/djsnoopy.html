<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dj Snoopy âœ¨</title>
    <link rel="stylesheet" href="../assets/scss/main.css">
</head>
<body class="dj-page" id="main-body">

    <nav class="navbar">
        <div class="dropdown">
            <button onclick="toggleMenu(event)" class="dropbtn">â˜° MenÃº</button>
            <div id="myDropdown" class="dropdown-content">
                <a href="../index.html">ğŸ  Inicio</a>
                <a href="jump.html">ğŸƒ Snoopy Jump</a>
                <a href="quizgame.html">ğŸ§  Preguntados</a>
                <a href="memorygame.html">ğŸ§© Memoria</a>
                <a href="cooking_v2.html">ğŸ‘¨â€ğŸ³ Food Truck</a>
                <a href="codigos.html">ğŸ† Mis CÃ³digos</a>
                <a onclick="forceUnlockDJ()">ğŸ”“ Desbloquear Todo (Admin)</a>
                <a onclick="resetDjAdmin()">ğŸ§¹ Reset DJ (Admin)</a>
            </div>
        </div>
    </nav>

    <div class="overlay" id="overlay-info" onclick="closeInfo()"></div>
    <div class="modal" id="modal-info">
        <h3 id="info-title" style="color: #fb6f92;">Sobre esta canciÃ³n...</h3>
        <p id="info-text" style="color: #8a5a6a; line-height: 1.5; text-align: left;"></p>
        <button class="btn" style="width: auto; padding: 10px 20px;" onclick="closeInfo()">Cerrar</button>
    </div>

    <div class="dj-card">
        <div class="dj-header">
            <div class="snoopy-box">
                <img src="../assets/images/snoopy_dj.png" id="snoopy-dj-static">
                <img src="../assets/images/snoopy_bailando.gif" id="snoopy-dancer-gif">
            </div>
            <h2 style="color: #fb6f92; margin: 0;">Dj Snoopy ğŸµ</h2>
            <p style="color: #8a5a6a; font-size: 0.85rem;">Nueva canciÃ³n cada 24 horas.</p>
        </div>
        <div class="scrollable-playlist">
            <div id="discover-section"><button class="btn" onclick="startDiscovering()">âœ¨ EMPEZAR A DESCUBRIR</button></div>
            <div class="song-list" id="playlist"></div>
        </div>
    </div>

    <audio id="audio-player"></audio>

    <script src="../assets/js/main.js"></script>
    <script>
        // --- BASE DE DATOS DE CANCIONES (LÃ³gica exclusiva) ---
        const CANCIONES = [
            { titulo: "Sudestada - Gustavo Cerati", archivo: "../assets/songs/sudestada.mp3", info: "Sudestada es una canciÃ³n muy especial para mi entender de nosotros. La escuchaba mucho cuando empezabamos a vernos, una Sudestada es un fenÃ³meno metereolÃ³gico con consecuencias irreversibles, tormentas, vientos fuertes, subidas de rÃ­o e inundaciones, es algo que se lleva todo a su paso. A mi interpretaciÃ³n, a veces hace falta un temporal para que todo encaje. Para mÃ­, nuestro comienzo fue ese 'a ver si aclara' constante; un proceso de vaciarnos de miedos para llenarnos de nosotros. Al final, la sudestada se llevÃ³ lo que sobraba y nos dejÃ³ lo mÃ¡s real: este nuevo inicio, un nuevo temporal." },
            { titulo: "Me Gusta - Ciro y los Persas", archivo: "../assets/songs/megusta.mp3", info: "Nuestra primera 'cita' no tan oficial, una noche espontÃ¡nea que decidimos volver a salir a cenar despuÃ©s de aÃ±os, en medio de mi primer trago en mucho tiempo, esta canciÃ³n empezÃ³ a sonar y parecÃ­a estar subtitulando mi mente, porque me gustaba todo de vos, te veÃ­a y tocaba tus manos solo para sentirte mas cerca de mi, era simplemente escuchar la canciÃ³n y verte detenidamente como si la letra te la estuviera diciendo yo a vos, sin que lo supieras, sin que yo lo entendiera." },
            { titulo: "Hablando a tu CorazÃ³n - Charly GarcÃ­a", archivo: "../assets/songs/hablandoatucorazon.mp3", info: "Conocerte fue entender que la gente a veces no se toma un momento para entenderte, y no dejan de hacerte sentir mal. No es como que yo siempre te entienda, pero lo intento y me importa, solamente trato de hablarme directo con tu corazÃ³n." },
            { titulo: "Home - Phillip Phillips", archivo: "../assets/songs/home.mp3", info: "A veces, personas como vos y yo nunca terminan o terminaron de sentir que tienen un lugar al que puedan llamarle hogar, no siempre es fÃ¡cil encontrar ese lugar donde puedas bajar los brazos, respirar profundo y descansar un momento, pero mi amor por vos es tambiÃ©n una promesa, de que tarde o temprano, donde sea que estemos, harÃ© que este lugar, donde estemos nosotros, sea tu hogar." },
            { titulo: "Perfecta - Miranda", archivo: "../assets/songs/perfecta.mp3", info: "La verdad esta canciÃ³n me da un poco de risa, y no tiene mucho misterio como para que te la intente detallar, pero es lo que es, creo que la letra lo dice todo, pero sÃ­, sos perfecta, y no necesito mÃ¡s." },
            { titulo: "Amor y Roma - Chano", archivo: "../assets/songs/amoryroma.mp3", info: "Con vos entendÃ­ que Amar es simple, tiene que ser simple, no una batalla constante con uno mismo, siempre sentÃ­ que nunca tuve nada, y nada me pertenece, pero con vos, tengo ese algo que da positivo, y entiendo que no necesito nada mas que verte siempre otra vez." },
            { titulo: "Waste My Time - Saint Asonia", archivo: "../assets/songs/wastemytime.mp3", info: "PasÃ© aÃ±os de mi vida tratando de entender porque nunca podÃ­a sentirme lo suficientemente querido, respetado y acompaÃ±ado como para quedarme en un lugar, pensando que tal vez, yo no estaba dando lo suficiente, perdÃ­ mucho tiempo tratando de solucionar algo que no me correspondÃ­a, hasta que despuÃ©s de tantos aÃ±os te tuve, y entendÃ­ que no entendÃ­a nada del amor verdadero e incondicional, incluso a veces, siento que te quedo a deber." },
            { titulo: "Quiero estar entre tus cosas - Daniel Melero", archivo: "../assets/songs/quieroestarentretuscosas.mp3", info: "Amarte desenfrenadamente es la manera mas diminutiva de expresar lo que quiero de vos, quiero conocer cada rincÃ³n de tu mente, de tu alma, de tu cuerpo; quiero conocer los secretos que nunca le contaste a nadie, quiero compartir tus miedos mas profundos, quiero entender cada pena, cada llanto, cada recuerdo, cada cosa que te persigue, no para intentar borrarlo o cambiarlo, sino para saber quiÃ©n sos, y de donde venÃ­s, 'Abrir cada cuaderno, y dejarlo en su lugar.'" },
            { titulo: "SeÃ±ales Luminosas - Cerati", archivo: "../assets/songs/seÃ±alesluminosas.mp3", info: "Desde que estamos juntos, cada dÃ­a siento que me encuentro mas conmigo mismo, cada vez siento mÃ¡s que vuelvo a ser yo, y eso no es solo porque me lo recuerdes, sino porque me das la fuerza para serlo. Es como si me desarmaras pieza por pieza, vieras lo que hay en cada centÃ­metro cÃºbico de mi alma, y me lo mostraras de nuevo, me conoces como nadie, me recordÃ¡s todo lo que soy." },
            { titulo: "Yo tengo tu Love - Sie7e", archivo: "../assets/songs/tengotulove.mp3", info: "Esta canciÃ³n te va a dar risa, porque cuando supiste que me gustaba te reÃ­ste, y la verdad si, estando en pleno 2026 es un poco graciosa, pero nada que no sienta realmente, y como dice la canciÃ³n 'Lady Gaga estÃ¡ en el Twitter y tambiÃ©n en el Facebook, Justin Bieber en Youtube, pero, yo tengo tu amor'" },
            { titulo: "No te Imaginas - NTVG", archivo: "../assets/songs/noteimaginas.mp3", info: "Todo el 2025 tuve dÃ­as muy muy malos, por no decir semanas, semanas enteras que el cansancio fÃ­sico y mental, el mal humor, y el estrÃ©s, literalmente estaban fundiendo todo mi cuerpo, pero sabÃ­a que todos los viernes o sÃ¡bados, cuando llegaba la hora de verte, todo iba a estar bien, de alguna forma que todavÃ­a no entiendo, llegÃ¡s y el dia cambia para mi." },
            { titulo: "QuizÃ¡s Porque - Sui Generis", archivo: "../assets/songs/quizasporque.mp3", info: "La vulnerabilidad es el enemigo principal de quien quiera amar, afortunadamente, no tengo ningÃºn problema en abrir mi corazÃ³n para vos, no hay nada mas autÃ©ntico, honesto e inocente que el amor que te tengo. Aunque no sean muchos ni muy valiosos, te darÃ­a mi vida y mis sueÃ±os, sin esperar nada a cambio." },
            { titulo: "Because We Can - Bon Jovi", archivo: "../assets/songs/becausewecan.mp3", info: "No importa cuantas veces te hayas sentido dejada atrÃ¡s, no importa cuantas veces traten de golpearte, de golpearme, o de golpearnos, estoy acÃ¡ para quedarme firme, y vamos a pasar todos los obstÃ¡culos juntos, porque podemos." },
            { titulo: "Sweet Child o Mine - Guns N Roses", archivo: "../assets/songs/sweetchildomine.mp3", info: "La letra dice 'su cabello me recuerda a un lugar cÃ¡lido y seguro, donde de niÃ±o, solÃ­a esconderme y rezar, para que el trueno y la lluvia se alejaran en silencio', creo que si mi yo de chico pudiera dedicarte una canciÃ³n (tambiÃ©n xq le gustaba el rock), sin duda serÃ­a esta, porque no existe un lugar que me haga sentir mas como si tuviera 10 aÃ±os de nuevo, que en tu compaÃ±Ã­a, te amo." },
            { titulo: "Sulky - Cerati", archivo: "../assets/songs/sulky.mp3", info: "Sos mi refugio, sos mi lugar para revivir y curarse, sos la parte de mi que podrÃ­a curar cualquier mal, eso es lo que provocas todo el tiempo, hechizos indescriptibles en lo mas profundo de mi corazÃ³n, vos y tu inquebrantable energÃ­a para romper cadenas. Que mas quisiera yo, que matar el tiempo en tus brazos y no desear nunca jamÃ¡s volver atrÃ¡s." },
            { titulo: "Gone, Gone, Gone - Phillip Phillips", archivo: "../assets/songs/gonegonegone.mp3", info: "Durante muchos aÃ±os despuÃ©s de la pandemia consideraba que era indestructible, que lo peor habÃ­a pasado y no podÃ­a volver a caer tan abajo, pero caÃ­. Fue difÃ­cil encontrar la fuerza necesaria para levantarme otra vez, pero con vos fue mucho mas fÃ¡cil, te convertiste en mi columna vertebral, mi piedra angular, mi punto de apoyo cuando mis piernas dejan de moverse, la motivaciÃ³n que tengo cada vez que ya no me queda ninguna. Y por eso te voy a amar por mucho, mucho tiempo, hasta mucho despuÃ©s de que vos y yo, nos hayamos ido." },
            { titulo: "A Merced - Cerati", archivo: "../assets/songs/amerced.mp3", info: "La Ãºltima canciÃ³n, por ahora, podrÃ­a dedicarte miles de canciones, pero esta canciÃ³n es exactamente lo que siento cada vez que simplemente te veo ser o hacer cualquier cosa, en cualquier lugar o momento, por si entre tantas canciones y notas todavÃ­a no te enteraste, al final es tan simple como esto, me vuelvo a quedar a Merced." }
        ];
        
        const audio = document.getElementById('audio-player'); 
        const bodyTag = document.getElementById('main-body'); 
        let currentPlayingIndex = null;
        
        function initDJ() {
            const disc = localStorage.getItem('djDiscoveryDate'); 
            const force = localStorage.getItem('djForceUnlock') === 'true'; 
            const playDiv = document.getElementById('playlist');
            playDiv.innerHTML = ""; 

            if (!disc) return; 
            document.getElementById('discover-section').style.display = "none";

            // LÃ“GICA DE DÃA CALENDARIO (ARGENTINA 00:00)
            const ahora = new Date();
            const hoyArgStr = ahora.toLocaleDateString("en-US", {timeZone: "America/Argentina/Buenos_Aires"});
            const hoyArg = new Date(hoyArgStr);

            const inicioDisc = new Date(parseInt(disc));
            const inicioArgStr = inicioDisc.toLocaleDateString("en-US", {timeZone: "America/Argentina/Buenos_Aires"});
            const inicioArg = new Date(inicioArgStr);

            const diffDias = Math.round((hoyArg - inicioArg) / (1000 * 60 * 60 * 24));
            const unlockedCount = force ? CANCIONES.length : diffDias + 1;

            CANCIONES.forEach((s, i) => {
                const isU = i < unlockedCount; 
                const item = document.createElement('div'); 
                item.className = `song-item ${isU ? '' : 'locked'}`;
                item.innerHTML = `
                    <div class="song-info">
                        <div class="song-title">${isU ? s.titulo : "Bloqueada ğŸ”’"}</div>
                    </div>
                    <div class="btn-group">
                        <button class="info-btn" ${isU ? '' : 'disabled'} onclick="showInfo(${i})">â“</button>
                        <button class="play-btn" ${isU ? '' : 'disabled'} onclick="togglePlay(${i})">${currentPlayingIndex === i ? 'â¸' : 'â–¶ï¸'}</button>
                    </div>`;
                playDiv.appendChild(item);
            });
        }
        
        function startDiscovering() { 
            localStorage.setItem('djDiscoveryDate', Date.now().toString()); 
            initDJ(); 
        }

        function togglePlay(i) { 
            if (currentPlayingIndex === i) { 
                audio.pause(); 
                currentPlayingIndex = null; 
                bodyTag.classList.remove('is-playing'); 
            } else { 
                audio.src = CANCIONES[i].archivo; 
                audio.play(); 
                currentPlayingIndex = i; 
                bodyTag.classList.add('is-playing'); 
            } 
            initDJ(); 
        }

        function showInfo(i) { 
            document.getElementById('info-text').innerText = CANCIONES[i].info; 
            document.getElementById('overlay-info').style.display = 'block'; 
            document.getElementById('modal-info').style.display = 'block'; 
        }

        function closeInfo() { 
            document.getElementById('overlay-info').style.display = 'none'; 
            document.getElementById('modal-info').style.display = 'none'; 
        }

        audio.onended = () => { 
            currentPlayingIndex = null; 
            bodyTag.classList.remove('is-playing'); 
            initDJ(); 
        };

        initDJ();
    </script>
</body>
</html>